// Generated by Haxe 3.4.0
(function () { "use strict";
var HxOverrides = function() { };
HxOverrides.__name__ = true;
HxOverrides.iter = function(a) {
	return { cur : 0, arr : a, hasNext : function() {
		return this.cur < this.arr.length;
	}, next : function() {
		return this.arr[this.cur++];
	}};
};
Math.__name__ = true;
var _$Pipeline_Pipeline_$Impl_$ = {};
_$Pipeline_Pipeline_$Impl_$.__name__ = true;
_$Pipeline_Pipeline_$Impl_$.iterator = function(this1) {
	return $iterator(this1)();
};
_$Pipeline_Pipeline_$Impl_$.open = function(tar) {
	if(tar == null) {
		throw new Error("tar is null");
	}
	return tar;
};
_$Pipeline_Pipeline_$Impl_$.enumerate = function(begin,end) {
	if(begin >= end) {
		throw new Error("invalid range");
	}
	return { iterator : function() {
		var pos = begin;
		return { hasNext : function() {
			return pos < end;
		}, next : function() {
			pos += 1;
			return pos - 1;
		}};
	}};
};
_$Pipeline_Pipeline_$Impl_$.where = function(this1,pred) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(pred == null) {
		throw new Error("pred is null");
	}
	return { iterator : function() {
		var fet = false;
		var nex = null;
		var itr = $iterator(this1)();
		var took = true;
		return { hasNext : function() {
			if(!took) {
				return fet;
			}
			took = false;
			while(true) {
				var tmp;
				fet = itr.hasNext();
				if(fet) {
					nex = itr.next();
					tmp = !pred(nex);
				} else {
					tmp = false;
				}
				if(!tmp) {
					break;
				}
			}
			return fet;
		}, next : function() {
			if(!fet) {
				throw new Error("no next");
			}
			took = true;
			return nex;
		}};
	}};
};
_$Pipeline_Pipeline_$Impl_$.select = function(this1,selector) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(selector == null) {
		throw new Error("selector is null");
	}
	return { iterator : function() {
		var fet = false;
		var nex = null;
		var itr = $iterator(this1)();
		var took = true;
		return { hasNext : function() {
			if(!took) {
				return fet;
			}
			took = false;
			fet = itr.hasNext();
			if(!fet) {
				return false;
			}
			var nex1 = itr.next();
			nex = selector(nex1);
			return true;
		}, next : function() {
			if(!fet) {
				throw new Error("no next");
			}
			took = true;
			return nex;
		}};
	}};
};
_$Pipeline_Pipeline_$Impl_$.join = function(this1,tar,join) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(join == null) {
		throw new Error("join is null");
	}
	return { iterator : function() {
		var fet = false;
		var nex = null;
		var elx = null;
		var itrx = $iterator(this1)();
		var itry = null;
		var first = true;
		var took = true;
		return { hasNext : function() {
			if(!took) {
				return fet;
			}
			took = false;
			if(first || !itry.hasNext()) {
				first = false;
				fet = itrx.hasNext();
				if(!fet) {
					return false;
				}
				elx = itrx.next();
				itry = $iterator(_$Pipeline_Pipeline_$Impl_$)(tar);
			}
			fet = itry.hasNext();
			if(!fet) {
				return false;
			}
			var nex1 = itry.next();
			nex = join(elx,nex1);
			return true;
		}, next : function() {
			if(!fet) {
				throw new Error("no next");
			}
			took = true;
			return nex;
		}};
	}};
};
_$Pipeline_Pipeline_$Impl_$.apply = function(this1,com) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(com == null) {
		throw new Error("com is null");
	}
	return { iterator : function() {
		var itr = $iterator(this1)();
		var nex = null;
		var fet = false;
		var took = true;
		return { hasNext : function() {
			if(!took) {
				return fet;
			}
			took = false;
			fet = itr.hasNext();
			if(!fet) {
				return false;
			}
			nex = itr.next();
			com(nex);
			return true;
		}, next : function() {
			if(!fet) {
				throw new Error("no next");
			}
			took = true;
			return nex;
		}};
	}};
};
_$Pipeline_Pipeline_$Impl_$.sort = function(this1,com) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(com == null) {
		throw new Error("com is null");
	}
	return { iterator : function() {
		var ret = [];
		var x = $iterator(this1)();
		while(x.hasNext()) {
			var x1 = x.next();
			ret.push(x1);
		}
		ret.sort(com);
		return HxOverrides.iter(ret);
	}};
};
_$Pipeline_Pipeline_$Impl_$.foreach = function(this1,com) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(com == null) {
		throw new Error("com is null");
	}
	var x = $iterator(this1)();
	while(x.hasNext()) {
		var x1 = x.next();
		com(x1);
	}
};
_$Pipeline_Pipeline_$Impl_$.aggregate = function(this1,zero,agr,saf) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(agr == null) {
		throw new Error("agr is null");
	}
	var ret = zero;
	var count = 0;
	var x = $iterator(this1)();
	while(x.hasNext()) {
		var x1 = x.next();
		ret = agr(ret,x1);
		++count;
	}
	if(saf != null) {
		return saf(ret,count);
	} else {
		return ret;
	}
};
_$Pipeline_Pipeline_$Impl_$.argmin = function(this1,$eval) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if($eval == null) {
		throw new Error("eval is null");
	}
	var itr = $iterator(this1)();
	if(!itr.hasNext()) {
		throw new Error("no elem");
	}
	var ret = null;
	var val = null;
	while(true) {
		var x = itr.next();
		var y = $eval(x);
		if(val == null || val > y) {
			ret = x;
			val = y;
		}
		if(!itr.hasNext()) {
			break;
		}
	}
	return ret;
};
_$Pipeline_Pipeline_$Impl_$.argmax = function(this1,$eval) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if($eval == null) {
		throw new Error("eval is null");
	}
	var itr = $iterator(this1)();
	if(!itr.hasNext()) {
		throw new Error("no elem");
	}
	var ret = null;
	var val = null;
	while(true) {
		var x = itr.next();
		var y = $eval(x);
		if(val == null || val < y) {
			ret = x;
			val = y;
		}
		if(!itr.hasNext()) {
			break;
		}
	}
	return ret;
};
_$Pipeline_Pipeline_$Impl_$.first = function(this1) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	var itr = $iterator(this1)();
	if(!itr.hasNext()) {
		throw new Error("no first element");
	}
	return itr.next();
};
_$Pipeline_Pipeline_$Impl_$.last = function(this1) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	var itr = $iterator(this1)();
	if(!itr.hasNext()) {
		throw new Error("no elem");
	}
	var ret;
	while(true) {
		ret = itr.next();
		if(!itr.hasNext()) {
			break;
		}
	}
	return ret;
};
_$Pipeline_Pipeline_$Impl_$.count = function(this1) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	var ret = 0;
	var x = $iterator(this1)();
	while(x.hasNext()) {
		var x1 = x.next();
		++ret;
	}
	return ret;
};
_$Pipeline_Pipeline_$Impl_$.any = function(this1,pred) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(pred == null) {
		throw new Error("pred is null");
	}
	var x = $iterator(this1)();
	while(x.hasNext()) {
		var x1 = x.next();
		if(pred(x1)) {
			return true;
		}
	}
	return false;
};
_$Pipeline_Pipeline_$Impl_$.all = function(this1,pred) {
	if(this1 == null) {
		throw new Error("null ref");
	}
	if(pred == null) {
		throw new Error("pred is null");
	}
	var x = $iterator(this1)();
	while(x.hasNext()) {
		var x1 = x.next();
		if(!pred(x1)) {
			return false;
		}
	}
	return true;
};
var Sample0 = function() { };
Sample0.__name__ = true;
Sample0.main = function() {
	console.log("#show names who has age which is greater equal than 20");
	_$Pipeline_Pipeline_$Impl_$.foreach(_$Pipeline_Pipeline_$Impl_$.where(Sample0.people,function(x) {
		return x.age >= 20;
	}),function(x1) {
		console.log(x1.name);
	});
	console.log("#join the person and pets by id");
	_$Pipeline_Pipeline_$Impl_$.foreach(_$Pipeline_Pipeline_$Impl_$.select(_$Pipeline_Pipeline_$Impl_$.where(_$Pipeline_Pipeline_$Impl_$.join(Sample0.people,Sample0.pets,function(x2,y) {
		return { person : x2, pet : y};
	}),function(x3) {
		return x3.person.id == x3.pet.id;
	}),function(x4) {
		return (x4.person.male ? "mr." : "ms.") + Std.string(x4.person.name) + " loves " + Std.string(x4.pet.pet);
	}),function(x5) {
		console.log(x5);
	});
	console.log("#list person who has no pet");
	_$Pipeline_Pipeline_$Impl_$.foreach(_$Pipeline_Pipeline_$Impl_$.select(_$Pipeline_Pipeline_$Impl_$.where(Sample0.people,function(x6) {
		return !_$Pipeline_Pipeline_$Impl_$.any(Sample0.pets,function(y1) {
			return y1.id == x6.id;
		});
	}),function(x7) {
		return x7.name;
	}),function(x8) {
		console.log(x8);
	});
	console.log("#count up person who has pet and is male, age what is greater than 60");
	console.log(_$Pipeline_Pipeline_$Impl_$.count(_$Pipeline_Pipeline_$Impl_$.where(_$Pipeline_Pipeline_$Impl_$.where(_$Pipeline_Pipeline_$Impl_$.where(Sample0.people,function(x9) {
		return _$Pipeline_Pipeline_$Impl_$.any(Sample0.pets,function(y2) {
			return y2.id == x9.id;
		});
	}),function(x10) {
		return x10.male;
	}),function(x11) {
		return x11.age > 60;
	})));
	console.log("#show first pet name being had by youngest person");
	console.log(_$Pipeline_Pipeline_$Impl_$.argmin(_$Pipeline_Pipeline_$Impl_$.where(_$Pipeline_Pipeline_$Impl_$.join(Sample0.pets,Sample0.people,function(x12,y3) {
		return { pet : x12, person : y3};
	}),function(x13) {
		return x13.pet.id == x13.person.id;
	}),function(x14) {
		return x14.person.age;
	}).pet.pet);
	console.log("#is there person who has no pet and age >= 60, not male ?");
	console.log(_$Pipeline_Pipeline_$Impl_$.any(_$Pipeline_Pipeline_$Impl_$.where(_$Pipeline_Pipeline_$Impl_$.where(_$Pipeline_Pipeline_$Impl_$.where(Sample0.people,function(x15) {
		return !_$Pipeline_Pipeline_$Impl_$.any(Sample0.pets,function(y4) {
			return x15.id == y4.id;
		});
	}),function(x16) {
		return x16.age >= 60;
	}),function(x17) {
		return !x17.male;
	}),function(x18) {
		return true;
	}) ? "yes" : "no");
	console.log("#are all people has pet?");
	console.log(_$Pipeline_Pipeline_$Impl_$.all(Sample0.people,function(x19) {
		return _$Pipeline_Pipeline_$Impl_$.any(Sample0.pets,function(y5) {
			return x19.id == y5.id;
		});
	}) ? "yes" : "no");
	console.log("#average age of people who is male");
	console.log(_$Pipeline_Pipeline_$Impl_$.aggregate(_$Pipeline_Pipeline_$Impl_$.select(_$Pipeline_Pipeline_$Impl_$.where(Sample0.people,function(x20) {
		return x20.male;
	}),function(x21) {
		return x21.age;
	}),0.0,function(left,right) {
		return left + right;
	},function(sum,count) {
		return sum / count;
	}));
};
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o instanceof Array) {
			if(o.__enum__) {
				if(o.length == 2) {
					return o[0];
				}
				var str = o[0] + "(";
				s += "\t";
				var _g1 = 2;
				var _g = o.length;
				while(_g1 < _g) {
					var i = _g1++;
					if(i != 2) {
						str += "," + js_Boot.__string_rec(o[i],s);
					} else {
						str += js_Boot.__string_rec(o[i],s);
					}
				}
				return str + ")";
			}
			var l = o.length;
			var i1;
			var str1 = "[";
			s += "\t";
			var _g11 = 0;
			var _g2 = l;
			while(_g11 < _g2) {
				var i2 = _g11++;
				str1 += (i2 > 0 ? "," : "") + js_Boot.__string_rec(o[i2],s);
			}
			str1 += "]";
			return str1;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str2 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str2.length != 2) {
			str2 += ", \n";
		}
		str2 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str2 += "\n" + s + "}";
		return str2;
	case "string":
		return o;
	default:
		return String(o);
	}
};
function $iterator(o) { if( o instanceof Array ) return function() { return HxOverrides.iter(o); }; return typeof(o.iterator) == 'function' ? $bind(o,o.iterator) : o.iterator; }
var $_, $fid = 0;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $fid++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = function(){ return f.method.apply(f.scope, arguments); }; f.scope = o; f.method = m; o.hx__closures__[m.__id__] = f; } return f; }
String.__name__ = true;
Array.__name__ = true;
Sample0.people = _$Pipeline_Pipeline_$Impl_$.open([{ id : 0, name : "npvqore", age : 47, male : false},{ id : 1, name : "pqiyqcd", age : 19, male : true},{ id : 2, name : "aaxntga", age : 38, male : true},{ id : 3, name : "woeqwea", age : 15, male : false},{ id : 4, name : "voxgwqr", age : 23, male : true},{ id : 5, name : "wicexwp", age : 69, male : false},{ id : 6, name : "lpwdegp", age : 56, male : false},{ id : 7, name : "cqfjsmt", age : 60, male : false},{ id : 8, name : "kynuzjz", age : 38, male : false},{ id : 9, name : "lrojdag", age : 41, male : true},{ id : 10, name : "bedzaxs", age : 67, male : false},{ id : 11, name : "rakbbxi", age : 49, male : false},{ id : 12, name : "gijvjvt", age : 66, male : false},{ id : 13, name : "jlixxzl", age : 16, male : false},{ id : 14, name : "tzoyiaj", age : 58, male : false},{ id : 15, name : "twtjtbn", age : 57, male : false},{ id : 16, name : "xcpzygc", age : 63, male : false},{ id : 17, name : "ydlhbcb", age : 69, male : true},{ id : 18, name : "fzhdhxn", age : 11, male : true},{ id : 19, name : "fsvrjkr", age : 15, male : false},{ id : 20, name : "dqmzrha", age : 46, male : true},{ id : 21, name : "difhlzn", age : 26, male : false},{ id : 22, name : "mqopotc", age : 63, male : true},{ id : 23, name : "rvtyvql", age : 35, male : false},{ id : 24, name : "gptingg", age : 39, male : false},{ id : 25, name : "bvzbtzh", age : 41, male : false},{ id : 26, name : "adbvbxh", age : 50, male : false},{ id : 27, name : "kigmqsx", age : 54, male : false},{ id : 28, name : "tylszcl", age : 43, male : true},{ id : 29, name : "opdpihe", age : 46, male : false},{ id : 30, name : "xjliizm", age : 20, male : false},{ id : 31, name : "meksmig", age : 49, male : true},{ id : 32, name : "xeqhoee", age : 23, male : false},{ id : 33, name : "adsmazr", age : 56, male : false},{ id : 34, name : "eixmqzt", age : 10, male : true},{ id : 35, name : "kqrbveo", age : 31, male : false},{ id : 36, name : "lxkzadp", age : 37, male : true},{ id : 37, name : "kmxjwff", age : 40, male : true},{ id : 38, name : "gmldaov", age : 19, male : true},{ id : 39, name : "vimqgel", age : 14, male : false},{ id : 40, name : "cuyxfxe", age : 58, male : true},{ id : 41, name : "vhenxpd", age : 59, male : false},{ id : 42, name : "jzcqjlz", age : 68, male : false},{ id : 43, name : "wmewvim", age : 50, male : false},{ id : 44, name : "xxjtgik", age : 36, male : false},{ id : 45, name : "esyjehv", age : 44, male : false},{ id : 46, name : "fhsgkyg", age : 24, male : true},{ id : 47, name : "reewbsy", age : 65, male : true},{ id : 48, name : "nugpuet", age : 57, male : false},{ id : 49, name : "rkrybyr", age : 47, male : false},{ id : 50, name : "mcocjva", age : 64, male : false},{ id : 51, name : "arihhto", age : 55, male : false},{ id : 52, name : "ummbmxl", age : 22, male : false},{ id : 53, name : "zzgskob", age : 22, male : true},{ id : 54, name : "xtmugeg", age : 16, male : false},{ id : 55, name : "vytnqyu", age : 66, male : false},{ id : 56, name : "xulafci", age : 63, male : false},{ id : 57, name : "zemlfsb", age : 28, male : false},{ id : 58, name : "mzjlmvc", age : 63, male : true},{ id : 59, name : "pqsndrc", age : 23, male : true},{ id : 60, name : "vmcpvin", age : 62, male : false},{ id : 61, name : "piwkevz", age : 50, male : false},{ id : 62, name : "jpmrzjq", age : 24, male : true},{ id : 63, name : "mhfuhdq", age : 50, male : false},{ id : 64, name : "qmvwzqc", age : 10, male : false},{ id : 65, name : "edcfbia", age : 65, male : false},{ id : 66, name : "njrgnym", age : 12, male : true},{ id : 67, name : "ezahrpi", age : 34, male : false},{ id : 68, name : "xwpptuf", age : 44, male : false},{ id : 69, name : "idgdtjg", age : 31, male : true},{ id : 70, name : "ztpibwo", age : 17, male : false},{ id : 71, name : "nzgkdhk", age : 66, male : true},{ id : 72, name : "qujvtmp", age : 35, male : true},{ id : 73, name : "ytmugeo", age : 30, male : true},{ id : 74, name : "nxwnjfw", age : 18, male : false},{ id : 75, name : "ownntrf", age : 35, male : true},{ id : 76, name : "smhtgbn", age : 21, male : true},{ id : 77, name : "pgadoig", age : 38, male : true},{ id : 78, name : "itvbjml", age : 51, male : false},{ id : 79, name : "yvdidpd", age : 36, male : false},{ id : 80, name : "ddqfihw", age : 39, male : true},{ id : 81, name : "iqcdrif", age : 61, male : true},{ id : 82, name : "yaptkeo", age : 18, male : false},{ id : 83, name : "cpdosni", age : 54, male : true},{ id : 84, name : "rkctphi", age : 56, male : false},{ id : 85, name : "pyiebfj", age : 34, male : true},{ id : 86, name : "hncfgml", age : 55, male : true},{ id : 87, name : "dmnysom", age : 53, male : true},{ id : 88, name : "udabgmy", age : 58, male : false},{ id : 89, name : "lvgtsyv", age : 59, male : true},{ id : 90, name : "ncokgqa", age : 56, male : false},{ id : 91, name : "vjwmnmu", age : 35, male : false},{ id : 92, name : "gakqxli", age : 49, male : false},{ id : 93, name : "nnicgki", age : 24, male : true},{ id : 94, name : "vcueblp", age : 12, male : false},{ id : 95, name : "idyqkxc", age : 11, male : true},{ id : 96, name : "gxvuaam", age : 34, male : true},{ id : 97, name : "rbckoeq", age : 21, male : false},{ id : 98, name : "fhkuhrs", age : 65, male : false},{ id : 99, name : "xkjydkb", age : 69, male : true}]);
Sample0.pets = _$Pipeline_Pipeline_$Impl_$.open([{ pid : 0, id : 47, pet : "lpt"},{ pid : 1, id : 49, pet : "abz"},{ pid : 2, id : 17, pet : "xoq"},{ pid : 3, id : 27, pet : "txg"},{ pid : 4, id : 70, pet : "nyn"},{ pid : 5, id : 91, pet : "qoo"},{ pid : 6, id : 49, pet : "tkg"},{ pid : 7, id : 45, pet : "msl"},{ pid : 8, id : 89, pet : "mth"},{ pid : 9, id : 70, pet : "wad"},{ pid : 10, id : 19, pet : "ygq"},{ pid : 11, id : 45, pet : "zdq"},{ pid : 12, id : 21, pet : "vvp"},{ pid : 13, id : 47, pet : "apy"},{ pid : 14, id : 39, pet : "jeo"},{ pid : 15, id : 9, pet : "vee"},{ pid : 16, id : 48, pet : "rlu"},{ pid : 17, id : 41, pet : "swc"},{ pid : 18, id : 75, pet : "maw"},{ pid : 19, id : 45, pet : "fvh"}]);
Sample0.main();
})();
